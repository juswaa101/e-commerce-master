<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    

   <!-- modal cdn -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
      
    <!-- datatables -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>
    
    <title>Approved Orders </title>

<style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }

    body {
    min-height: 100vh;
    background-color: #fff;
    }

    .side-navbar {
    width: 250px;
    height: 100%;
    position: fixed;
    margin-left: -300px;
    background-color: #5765c1;
    transition: 0.5s;
    }

    .nav-link:active,
    .nav-link:focus,
    .nav-link:hover {
    background-color: #ffffff26;
    }

    .my-container {
    transition: 0.4s;
    }

    .active-nav {
    margin-left: 0;
    }

    /* for main section */
    .active-cont {
    margin-left: 250px;
    }

    #menu-btn {
    background-color: #5765c1;
    color: #fff;
    margin-left: -62px;
    }

    .my-container input {
    border-radius: 2rem;
    padding: 2px 20px;
    }

</style>

<script>
  $(document).ready(function () {
    $('#example').DataTable();
  });
</script>

</head>

<body>
  <div class="side-navbar active-nav d-flex justify-content-between flex-wrap flex-column" id="sidebar">
    <ul class="nav flex-column text-white w-100">
      <a href="/adminDashboard" class="nav-link h3 text-white my-2">
        PC <b>Express</b>
      </a>
      <li>
        <a class="nav-link"  href="/adminDashboard"style="text-decoration: none; color: white;">
            <i class="bx bxs-dashboard"></i>
            <span class="mx-2">Dashboard</span>
        </a>
      </li>
      <li>
        <a class="nav-link" href="/adminParts"style="text-decoration: none; color: white; ">
            <i class="bx bxs-cart-add"></i>
            <span class="mx-2">Products</span>
        </a>
      </li>
      <li>
        <a
          class="nav-link"
          href="/adminCategories"
          style="text-decoration: none; color: white"
        >
          <i class="bx bxs-book"></i>
          <span class="mx-2">Categories</span>
        </a>
      </li>
      <li>
        <a class="nav-link" href="/adminOrders"style="text-decoration: none; color: white; background:#3E4CA7;">
            <i class='bx bxs-shopping-bags'></i>
            <span class="mx-2">Orders</span>
        </a>
      </li>
      <li>
        <a class="nav-link" href="/adminUsers"style="text-decoration: none; color: white;">
            <i class='bx bxs-user-check' ></i>
            <span class="mx-2">Users</span>
        </a>
      </li>
    </ul>
  </div>

  <div class="p-1 my-container active-cont">

    <nav class="navbar top-navbar navbar-light bg-light px-5">
      <a class="btn border-0" id="menu-btn"><i class="bx bx-menu"></i></a>
      <a href="/logout"><i class='bx bx-log-out'></i> </a>
    </nav>
    <div style="margin: 1em;">
      <table >
        <td >
          <a style="text-decoration: none; color: #000;" href="/adminOrders">Ordered Products</a>
        </td>
        <!-- <td style="padding: 1em;">
          <a style="text-decoration: none; color: #000;" href="/adminShipped">Shipped Orders</a>
        </td> -->
        <td style="padding: 1em;">
          <a style="text-decoration: none; color: #000;  border-bottom:#5765c1 2px solid; border-radius:5px;" href="/adminCompleted">Approved Orders</a>
        </td>
        <td >
          <a style="text-decoration:none; color: #000; " href="/adminCancelled">Cancelled Orders</a>
        </td>
      </table>
      <br>
      <table
          id="example"
          class="text-center table table-striped"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th>Product</th>
              <th>Name</th>
              <th>Ordered Date</th>
              <th>Quantity</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <% result.forEach(element => { %>
              <tr>
                <td>
                  <img
                    src="/images/<%= element.img %>"
                    width="150px"
                    height="100px"
                    style="border-radius: 5px"
                  />
                  <br />
                  <h5>â‚±<%= Intl.NumberFormat('en-US', { style: 'currency',currency: 'TRY'}).format(element.price).slice(4) %></h5>
                  <p><%= element.item_name %></p>
                </td>
                <td><%= element.full_name %></td>
                <td><%= new Date(element.order_placed_at).toLocaleString() %></td>
                <td><%= 1 %></td>
                <td class="text-success">Approved</td>
              </tr>
            <% }) %>
          </tbody>
          <tfoot>
            <tr>
              <th>Product</th>
              <th>Name</th>
              <th>Ordered Date</th>
              <th>Quantity</th>
              <th>Status</th>
            </tr>
          </tfoot>
        </table>
      </div>
  </div>

</body>
<script>
var menu_btn = document.querySelector("#menu-btn");
var sidebar = document.querySelector("#sidebar");
var container = document.querySelector(".my-container");
menu_btn.addEventListener("click", () => {
  sidebar.classList.toggle("active-nav");
  container.classList.toggle("active-cont");
});
</script>
</html>